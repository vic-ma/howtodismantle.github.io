---
layout: base
---

{% assign def = site.data.collections.collections | where: "id", page.collection_id | first %}
{% assign def_text = site.data.ui_text.collections.definitions[page.collection_id] %}

<div class="mx-auto max-w-7xl px-6 lg:px-8 py-10">
  <div class="mb-8">
    <h1 class="font-heading text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-white uppercase tracking-tight">
      {{ def_text.title }}
    </h1>
    <p class="mt-3 text-gray-600 dark:text-gray-400 max-w-3xl">
      {{ def_text.description }}
    </p>
  </div>

  {% if page.collection_id == "hardware-devices" %}
    <!-- Hardware Guide promo bar (only for Hardware & Devices) -->
    <div class="mb-10 border border-gray-200 dark:border-gray-800 bg-white dark:bg-blackground px-6 py-5 blueprint-grid-dense">
      <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-4">
        <div class="flex items-center gap-3">
          <div class="inline-flex items-center justify-center w-10 h-10 bg-accent-cyan/10 text-accent-cyan border border-accent-cyan/30">
            <i class="fas fa-microchip text-lg"></i>
          </div>
          <div>
            <div class="font-heading text-xs font-bold uppercase tracking-widest text-gray-600 dark:text-gray-400">
              {{ site.data.ui_text.collections.hardware_banner.eyebrow }}
            </div>
            <div class="text-sm text-gray-900 dark:text-white font-semibold">
              {{ site.data.ui_text.collections.hardware_banner.title }}
            </div>
          </div>
        </div>
        <a href="/hardwareguide"
           class="inline-flex items-center justify-center px-6 py-3 bg-gray-900 dark:bg-white text-white dark:text-black font-bold text-sm uppercase tracking-wider hover:bg-accent-cyan hover:text-black dark:hover:bg-accent-cyan transition-colors">
          {{ site.data.ui_text.collections.hardware_banner.cta }}
          <svg class="w-5 h-5 ml-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
          </svg>
        </a>
      </div>
    </div>
  {% endif %}

  {%- comment -%}
  Curated posts from front-matter:
  collections:
    api-integrations: 10
    hardware-devices: 20
  {%- endcomment -%}

  {%- assign curated_keys = "" | split: "" -%}
  {%- for post in site.posts -%}
    {%- if post.collections and post.collections[page.collection_id] -%}
      {%- assign order_num = post.collections[page.collection_id] | plus: 0 -%}
      {%- capture padded -%}00000{{ order_num }}{%- endcapture -%}
      {%- assign padded = padded | slice: -5, 5 -%}
      {%- assign date_s = post.date | date: "%s" -%}
      {%- capture key -%}{{ padded }}|{{ date_s }}|{{ post.url }}{%- endcapture -%}
      {%- assign curated_keys = curated_keys | push: key -%}
    {%- endif -%}
  {%- endfor -%}
  {%- assign curated_keys = curated_keys | sort -%}

  {%- assign curated_posts = "" | split: "" -%}
  {%- for key in curated_keys -%}
    {%- assign parts = key | split: "|" -%}
    {%- assign url = parts[2] -%}
    {%- assign match = site.posts | where: "url", url | first -%}
    {%- if match -%}
      {%- assign curated_posts = curated_posts | push: match -%}
    {%- endif -%}
  {%- endfor -%}

  {%- assign posts_to_show = curated_posts -%}
  {%- if posts_to_show.size == 0 -%}
    {%- assign tags = def.tags_fallback | default: "" -%}
    {%- assign filtered_posts = "" | split: "" -%}
    {%- for post in site.posts -%}
      {%- for tag in post.tags -%}
        {%- if tags contains tag -%}
          {%- assign filtered_posts = filtered_posts | push: post -%}
          {%- break -%}
        {%- endif -%}
      {%- endfor -%}
    {%- endfor -%}
    {%- assign posts_to_show = filtered_posts -%}
  {%- endif -%}

  <!-- Magazine grid + Load more -->
  {% assign initial_count = 12 %}
  <div data-load-more-container data-load-more-initial="{{ initial_count }}" data-load-more-step="12">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[1px] bg-white dark:bg-blackground">
      {% for post in posts_to_show %}
        <div data-load-more-item {% if forloop.index > initial_count %}data-load-more-hidden="true"{% endif %}>
          {% include article-card-magazine-clean.html post=post %}
        </div>
      {% endfor %}
    </div>

    {% if posts_to_show.size > initial_count %}
      <div class="mt-10 text-center">
        <button type="button"
                data-load-more-button
                data-load-more-label="{{ site.data.ui_text.pagination.load_more }}"
                class="inline-flex items-center justify-center px-8 py-4 bg-gray-900 dark:bg-white text-white dark:text-black font-bold text-sm uppercase tracking-wider hover:bg-accent-cyan hover:text-black dark:hover:bg-accent-cyan transition-colors">
          {{ site.data.ui_text.pagination.load_more }}
        </button>
      </div>
    {% endif %}
  </div>
</div>


